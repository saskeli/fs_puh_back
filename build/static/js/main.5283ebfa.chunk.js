(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(38)},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),u=n.n(a),r=n(11),c=n.n(r),i=n(12),o=n(2),l=n(3),m=n.n(l),s="http://localhost:3001/persons",f=function(){return m.a.get(s).then(function(e){return e.data})},d=function(e){return m.a.post(s,e).then(function(e){return e.data})},E=function(e){return m.a.delete("".concat(s,"/").concat(e)).then(function(e){return e.data})},b=function(e,t){return m.a.put("".concat(s,"/").concat(e),t).then(function(e){return e.data})},h=(n(37),function(e,t,n,a,u){return function(){window.confirm("Poistetaanko ".concat(e.name,"?"))&&(E(e.id).then(function(){u(!1),a("".concat(e.name," poistettiin!")),setTimeout(function(){a(null)},5e3)}).catch(function(t){u(!0),a("".concat(e.name," poisto ep\xe4onnistui!")),setTimeout(function(){a(null)},5e3)}),t(n.filter(function(t){return t.id!==e.id})))}}),v=function(e){var t=e.plist,n=e.fString,a=e.setter,r=e.noteSetter,c=e.errorSetter;return u.a.createElement("table",null,u.a.createElement("tbody",null,t.filter(function(e){var t=e.name.toLowerCase(),a=n.toLowerCase();return t.includes(a)}).map(function(e){return u.a.createElement("tr",{key:e.id},u.a.createElement("td",null,e.name),u.a.createElement("td",null,e.number),u.a.createElement("td",null," ",u.a.createElement("button",{onClick:h(e,a,t,r,c)},"poista")))})))},p=function(e){var t=e.value,n=e.onChange;return u.a.createElement("form",null,u.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4 ",u.a.createElement("input",{value:t,onChange:n})))},g=function(e){var t=e.name,n=e.naChange,a=e.number,r=e.nuChange,c=e.onSubmit;return u.a.createElement("form",{onSubmit:c},u.a.createElement("div",null,"nimi: ",u.a.createElement("input",{value:t,onChange:n})),u.a.createElement("div",null,"numero: ",u.a.createElement("input",{value:a,onChange:r})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},j=function(e){var t=e.message,n=e.nClass;return null===t?null:u.a.createElement("div",{className:n},t)},C=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),l=Object(o.a)(c,2),m=l[0],s=l[1],E=Object(a.useState)(""),h=Object(o.a)(E,2),C=h[0],S=h[1],O=Object(a.useState)(""),w=Object(o.a)(O,2),y=w[0],k=w[1],T=Object(a.useState)(null),L=Object(o.a)(T,2),P=L[0],J=L[1],N=Object(a.useState)(!1),x=Object(o.a)(N,2),B=x[0],D=x[1];Object(a.useEffect)(function(){f().then(function(e){return r(e)}).catch(function(e){D(!0),J("Henkil\xf6iden hakeminen ep\xe4onnistui!"),setTimeout(function(){J(null)},5e3)})},[]);return u.a.createElement("div",null,B?u.a.createElement(j,{message:P,nClass:"error"}):null,u.a.createElement("h2",null,"Puhelinluettelo"),B?null:u.a.createElement(j,{message:P,nClass:"notification"}),u.a.createElement(p,{value:y,onChange:function(e){return k(e.target.value)}}),u.a.createElement("h3",null,"Lis\xe4\xe4 uusi"),u.a.createElement(g,{name:m,naChange:function(e){return s(e.target.value)},number:C,nuChange:function(e){return S(e.target.value)},onSubmit:function(e){e.preventDefault();var t=n.find(function(e){return e.name===m});if(t){if(window.confirm("".concat(m," on jo olemassa! P\xe4ivitet\xe4\xe4nk\xf6 numero?"))){var a=Object(i.a)({},t,{number:C});b(t.id,a).then(function(e){D(!1),J("".concat(m," numero p\xe4ivitetty!")),setTimeout(function(){J(null)}),r(n.map(function(n){return n.id===t.id?e:n}))}).catch(function(e){D(!0),J("".concat(m," numero p\xe4ivitetty!")),r(n.filter(function(e){return e.id!==t.id})),setTimeout(function(){J(null)},5e3)})}}else d({name:m,number:C}).then(function(e){r(n.concat(e)),D(!1),J("".concat(e.name," lis\xe4tty!")),setTimeout(function(){J(null)},5e3)}).catch(function(e){D(!0),J("Lis\xe4ys ep\xe4onnistui!"),setTimeout(function(){J(null)},5e3)})}}),u.a.createElement("h3",null,"Numerot"),u.a.createElement(v,{plist:n,fString:y,setter:r,noteSetter:J,errorSetter:D}))};c.a.render(u.a.createElement(C,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.5283ebfa.chunk.js.map